## 案例6-1编写第一个JSP文件

### 一、案例描述

1、考核知识点

   名称：编写第一个JSP文件

  编号：028006002

2、练习目标

Ø 掌握实际开发中对html文件改写为JSP文件的方法。

3、需求分析

  可能在实际工作中，开发公司都会是前后端分离，前段可能只是设计html网页，后台开发人员就需要将html页面更改为动态的jsp文件，同时再根据需求绑定一些ajax事件等。本案例就简单的介绍将html文件改为jsp文件的基本方法。

4、设计思路（实现原理）

1） 创建login.html静态的登陆文件，效果图参看案例实现

2） 将login.html进行更改替换为login.jsp文件，效果图参看案例实现

​    3）通过浏览器访问login.jsp，展现页面信息。

### 二、案例实现

(1)编写login.html；

(2)改写后的login.jsp文件（只需要在html文件最顶部加一条page指令即可）：

启动Tomcat服务器，在地址栏中输入http://localhost:8080/chapter06/login.html，浏览器显示的结果如下图所示：

![img](6.JSP%E6%8A%80%E6%9C%AF.assets/clip_image002.jpg)

将login.html修改为login.jsp文件后，启动Tomcat服务器，在地址栏中输入http://localhost:8080/chapter06/login.jsp，浏览器显示的结果如下图所示：

![img](6.JSP%E6%8A%80%E6%9C%AF.assets/clip_image004.jpg)

## 案例6-2 include指令

### 一、案例描述

1、 考核知识点

名称：include指令

编号：028006007

2、 练习目标

Ø 熟悉常用开发中include指令的用法。

3、 需求分析

实际开发网页中，将网页根据功能结构划分为多个模块，比如说一个淘宝商城，顶部有登陆、注册等导航页，左侧有主题市场类别导航，最底部是网站信息和版权等。其中这些基本的公用页面就可以使用include指令包含进来各个公共的jsp页面。本案例就模拟一个简单的网页使用include指令做法。

4、 设计思路（实现原理）

1）       编写一个head.jsp的顶部页面

2）       编写一个content.jsp的内容页面

3）       编写一个foot.jsp的底部页面

4）       在content.jsp的内容页面中使用include指令引入其他公用jsp文件。

### 二、案例实现            

编写head.jsp，其代码如下：

<body>

    <div id="divhead">

    <table cellspacing="0" class="headtable">

​    <tr>

​      <td style="text-align:right">

​                <a href="#">购物车</a> 

​       | <a href="#">帮助中心</a> 

​       | <a href="#">我的帐户</a>

​       | <a href="#">新用户注册</a>            

​       | <a href="#">用户退出</a>

​      </td>   

​    </tr>

  </table>

</div>

</body>

 

**编写****content.jsp****，其代码如下：**

**请补充****content.jsp****的代码**

 

编写foot.jsp，其代码如下：

<body>

<div id="divfoot">

       <table width="100%" border="0" cellspacing="0">

​      <tr>

​       <td rowspan="3" style="width:15%">

​           传智播客有限公司

​       </td>

​      </tr>

​      <tr>

​       <td style="padding-left:20px">

​         <font color="#CCCCCC">

​           <b>COPYRIGHT 2016 &copy; ItcastStore All Rights RESERVED.</b> 

​         </font>

​       </td>

​      </tr>

​    </table>

  </div>

</body>

启动Tomcat服务器，在地址栏中输入http://localhost:8080/chapter06/content.jsp，浏览器显示的结果如下图所示：

![img](6.JSP%E6%8A%80%E6%9C%AF.assets/clip_image006.jpg)

 

## 案例6-3 exception对象

### 一、案例描述

1、考核知识点

名称：exception对象

编号：028006011

2、练习目标

Ø 掌握jsp页面中exception对象的基本使用。

3、需求分析

在jsp页面编写或者遍历后台传递的数组集合等数据的时候都可能出现意外，导致jsp页面产生错误信息，如果是运行时异常则会在页面产生错误，这时就可以使用exception对象进行捕获来查看具体错误信息。

4、设计思路（实现原理）

1） 创建order.jsp页面，书写错误代码：定义一个只有两个元素的数组，但是引用该数组数据时数组越界；

2） 创建errorjsp异常捕获页面

​    3）通过浏览器访问order.jsp，查看页面信息。

### 二、案例实现

（1）创建order.jsp，

（2）创建error.jsp，代码如下：

启动Tomcat服务器，在浏览器的地址栏中输入URL地址http://localhost:8080/chapter06/order.jsp，显示的结果如下图所示（显示异常问题）：

![img](file:///C:/Users/SQUARES/AppData/Local/Temp/msohtmlclip1/01/clip_image008.jpg)

## 案例6-4 <jsp:forward>动作元素

### 一、案例描述

1、考核知识点

   名称：<jsp:forward>动作元素

  编号：028006013

2、练习目标

Ø 熟悉<jsp:forward>动作元素的使用。

3、需求分析

  开发的时候可能会存在一个中间跳转页面，根据不同的结果向不同的页面进行跳转。本案例就简单模拟一个随机情况下同一个请求跳转不同页面的情况。

4、设计思路（实现原理）

1） 创建一个jspForward.jsp跳转页面，用r=Math.random();产生随机数，如果r>0.5，跳转到forward1.jsp，否则跳转到forward2.jsp

2） 创建2个跳转页面forward1.jsp和forward2.jsp

3） 通过浏览器访问jspForward.jsp，查看页面信息。

### 二、案例实现

​    创建jspForward.jsp，完成该页面的代码：

 

​    创建forward1.jsp，代码如下：

<body>

  你是管理员

</body>

创建forward1.jsp，代码如下：

<body>

  你是普通用户

</body>

启动服务，访问http://localhost:8080/chapter06/jspForward.jsp可看到浏览器显示如下图：

![img](6.JSP%E6%8A%80%E6%9C%AF.assets/clip_image010.jpg)

刷新多次此页面后可看到浏览器显示如下图：

![img](6.JSP%E6%8A%80%E6%9C%AF.assets/clip_image012.jpg)