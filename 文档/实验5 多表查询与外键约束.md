 

![img](%E5%AE%9E%E9%AA%8C5%20%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F.assets/clip_image002.jpg)

| 成  绩   |      |
| -------- | ---- |
| 批阅教师 |      |
| 日  期   |      |

 

 

 

 

**桂林电子科技大学** 

**实验实训报告**

**2022 -2023** **学年第1学期**

 

 

| **学**  **院：**  | **计算机工程学院** |
| ----------------- | ------------------ |
| **课**   **程：** | **数据库系统原理** |
| **姓**   **名：** |                    |
| **学**   **号：** |                    |
| **指导老师：**    | **徐丽芳**         |
| **日**   **期：** |                    |

 

 

**实验五** **多表查询****与外键约束**

**5.1** **实验目的**

（1）掌握SQL语言的数据多表查询语句

（2）掌握SQL语言为数据表添加外键约束

**5.2** **实验内容**

内连接查询

外连接查询

复合条件连接查询

子查询

添加外键约束、查看外键约束、修改外键约束、删除外键约束

外键约束的三种模式

关联表操作

**5.3** **实验步骤**

**用****SQL****语句完成以下操作**

1.创建一个数据库zggl(职工管理)

2.创建一个部门信息表D

| **字段名** | **数据类型** | **注释**     | **备注** |
| ---------- | ------------ | ------------ | -------- |
| dno        | char(3)      | 部门编号     | 主键     |
| dname      | varchar(20)  | 部门名称     | 非空     |
| dtel       | char(11)     | 部门联系电话 |          |

 

3.在D表中插入以下数据

| **部门编号** | **部门名称** | **部门联系电话** |
| ------------ | ------------ | ---------------- |
| 101          | 人事部       | 15511111111      |
| 102          | 网络部       | 15522222222      |
| 103          | 销售部       | 15533333333      |
| 104          | 技术部       | 15588888888      |
| 105          | 维修部       | 15566666666      |

 

4.创建一个员工信息表 E

| **字段名** | **数据类型**    | **注释**     | **备注** |
| ---------- | --------------- | ------------ | -------- |
| eno        | char(6)         | 员工编号     | 主键     |
| ename      | varchar(20)     | 员工姓名     | 非空     |
| etel       | char(11)        | 员工联系电话 |          |
| egender    | enum(‘男’,’女’) | 员工性别     |          |
| eage       | int             | 员工年龄     |          |
| edno       | char(3)         | 所在部门编号 | 外键     |

 

5.在E表中插入以下数据

| **员工编号** | **员工姓名** | **联系电话** | **性别** | **年龄** | **部门编号** |
| ------------ | ------------ | ------------ | -------- | -------- | ------------ |
| 200101       | 张三         | 18888888888  | 男       | 34       | 101          |
| 200102       | 李四         | 18888888889  | 男       | 32       | 102          |
| 200201       | 王五         | 17777777777  | 男       | 25       | 103          |
| 210101       | 许六         | 16666666666  | 女       | 28       | 103          |
| 220101       | 韩七         | 19999999999  | 女       | 24       | 105          |
| 220102       | 黎一         | 17877887788  | 女       | 28       | 104          |

 

6.创建一个项目成员表X

| **字段名** | **数据类型** | **注释** | **备注**       |
| ---------- | ------------ | -------- | -------------- |
| id         | int          | 序号     | 主键，自动增加 |
| xno        | char(2)      | 项目编号 | 非空           |
| eno        | char(6)      | 员工编号 | 外键           |

 

7.在X表中插入以下数据

| **序号** | **项目编号** | **员工编号** |
| -------- | ------------ | ------------ |
| 1        | 01           | 200101       |
| 2        | 01           | 200102       |
| 3        | 01           | 200201       |
| 4        | 01           | 220102       |
| 5        | 02           | 210101       |
| 6        | 02           | 200101       |
| 7        | 02           | 200101       |
| 8        | 02           | 220102       |
| 9        | 03           | 200101       |
| 10       | 03           | 220102       |

 

8.查询每个部门员工参与项目的情况（输出所有项目编号、员工编号、员工姓名及员工所在部门名称，若员工没有参加任何项目，则项目编号为NULL）。

9.查询与“黎一”同岁的员工编号、姓名和年龄（要求使用至少3种方法求解）。

10.查询参与了03号项目的员工姓名和部门名称。

11.查询比所有男生年龄都小的女生的员工编号、姓名和年龄。

12.将外键的模式都设置为：删除数据为置空模式，更新数据为级联模式。

13.删除departments表中部门编号为104的数据，并查看employees表中的数据。

14.更改departments表中“维修部”的部门编号更改为“106”，并查看employees表中的数据。

 

**SQL****语句及运行结果（代码和结果截图）**

 

 

 

 

 

 

 

**实验中的问题及建议**